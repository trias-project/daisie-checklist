<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Lien Reyserhove" />
<meta name="author" content="David Roy" />

<meta name="date" content="2021-03-19" />

<title>Darwin Core mapping script for Taxon Core</title>

<script src="site_libs/header-attrs-2.5/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="site_libs/anchor-sections-1.0/anchor-sections.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="static/css/trias.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 45px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h2 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h3 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h4 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h5 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h6 {
  padding-top: 50px;
  margin-top: -50px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">daisie-checklist</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Workflow
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="1_pre_processing.html">Prepare datasets for processing</a>
    </li>
    <li>
      <a href="2_dwc_taxon_mapping.html">Map taxon core</a>
    </li>
    <li>
      <a href="3_dwc_vernacularname_mapping.html">Map vernacular name extension</a>
    </li>
    <li>
      <a href="4_dwc_distribution_mapping.html">Map distribution extension</a>
    </li>
    <li>
      <a href="5_dwc_description_extension.html">Map description extension</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/trias-project/daisie-checklist">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Darwin Core mapping script for Taxon Core</h1>
<h3 class="subtitle">For: Inventory of alien species in Europe (DAISIE)</h3>
<h4 class="author">Lien Reyserhove</h4>
<h4 class="author">David Roy</h4>
<h4 class="date">2021-03-19</h4>

</div>


<p>This file describes the steps required to map the data to <a href="http://rs.gbif.org/core/dwc_taxon_2015-04-24.xml">Darwin Core Taxon</a>.</p>
<div id="setup" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Setup</h1>
<p>Load libraries:</p>
</div>
<div id="read-data" class="section level1" number="2">
<h1 number="2"><span class="header-section-number">2</span> Read data</h1>
<ol style="list-style-type: decimal">
<li><p>Define data types</p></li>
<li><p>Read taxon data</p></li>
<li><p>Read literature references</p></li>
</ol>
</div>
<div id="map-taxon-core" class="section level1" number="3">
<h1 number="3"><span class="header-section-number">3</span> Map taxon core</h1>
<p>Preview of the data:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["idspecies"],"name":[1],"type":["chr"],"align":["left"]},{"label":["genus"],"name":[2],"type":["chr"],"align":["left"]},{"label":["species"],"name":[3],"type":["chr"],"align":["left"]},{"label":["authority"],"name":[4],"type":["chr"],"align":["left"]},{"label":["subtaxon"],"name":[5],"type":["chr"],"align":["left"]},{"label":["subtaxon_rank"],"name":[6],"type":["chr"],"align":["left"]},{"label":["subtaxon_authority"],"name":[7],"type":["chr"],"align":["left"]},{"label":["taxon_group"],"name":[8],"type":["chr"],"align":["left"]},{"label":["phylum"],"name":[9],"type":["chr"],"align":["left"]},{"label":["class"],"name":[10],"type":["chr"],"align":["left"]},{"label":["ordo"],"name":[11],"type":["chr"],"align":["left"]},{"label":["family"],"name":[12],"type":["chr"],"align":["left"]},{"label":["ecofunct_group"],"name":[13],"type":["chr"],"align":["left"]},{"label":["sourceid"],"name":[14],"type":["chr"],"align":["left"]}],"data":[{"1":"5","2":"Telaranea","3":"murphyae","4":"Paton","5":"NA","6":"NA","7":"NA","8":"Bryophyta","9":"Marchantiophyta","10":"Jungermanniopsida","11":"Jungermanniales","12":"Lepidoziaceae","13":"NA","14":"6"},{"1":"6","2":"Telaranea","3":"tetradactyla","4":"NA","5":"NA","6":"NA","7":"NA","8":"Bryophyta","9":"Marchantiophyta","10":"Jungermanniopsida","11":"Jungermanniales","12":"Lepidoziaceae","13":"NA","14":"17500"},{"1":"7","2":"Lophocolea","3":"bispinosa","4":"(Hook. f. & Taylor) Gottsche et al.","5":"NA","6":"NA","7":"NA","8":"Bryophyta","9":"Marchantiophyta","10":"Jungermanniopsida","11":"Jungermanniales","12":"Geocalycaceae","13":"NA","14":"17500"},{"1":"8","2":"Lophocolea","3":"semiteres","4":"(Lehm.) Mitt.","5":"NA","6":"NA","7":"NA","8":"Bryophyta","9":"Marchantiophyta","10":"Jungermanniopsida","11":"Jungermanniales","12":"Geocalycaceae","13":"NA","14":"65"},{"1":"9","2":"Sphaerocarpos","3":"michelii","4":"Bellardi","5":"NA","6":"NA","7":"NA","8":"Bryophyta","9":"Marchantiophyta","10":"Marchantiopsida","11":"Sphaerocarpales","12":"Sphaerocarpaceae","13":"NA","14":"26"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Start with record-level terms which contain metadata about the dataset (which is generally the same for all records).</p>
<div id="language" class="section level2" number="3.1">
<h2 number="3.1"><span class="header-section-number">3.1</span> language</h2>
</div>
<div id="license" class="section level2" number="3.2">
<h2 number="3.2"><span class="header-section-number">3.2</span> license</h2>
</div>
<div id="rightsholder" class="section level2" number="3.3">
<h2 number="3.3"><span class="header-section-number">3.3</span> rightsHolder</h2>
</div>
<div id="datasetid" class="section level2" number="3.4">
<h2 number="3.4"><span class="header-section-number">3.4</span> datasetID</h2>
</div>
<div id="institutioncode" class="section level2" number="3.5">
<h2 number="3.5"><span class="header-section-number">3.5</span> institutionCode</h2>
</div>
<div id="datasetname" class="section level2" number="3.6">
<h2 number="3.6"><span class="header-section-number">3.6</span> datasetName</h2>
<p>The following terms contain information about the taxon:</p>
</div>
<div id="taxonid" class="section level2" number="3.7">
<h2 number="3.7"><span class="header-section-number">3.7</span> taxonID</h2>
</div>
<div id="scientificname" class="section level2" number="3.8">
<h2 number="3.8"><span class="header-section-number">3.8</span> scientificName</h2>
<p>The information in <code>scientificName</code> will be a compilation of several fields: <code>sp_genus</code>, <code>sp_species</code>, <code>sp_authority</code>, <code>sp_subtaxon</code> and <code>sp_subtaxon_authority</code>. We paste this information together to generate the field <code>dwc_scientificName</code>. Before we concatenate this information, we clean the authorship information a bit:</p>
<ol style="list-style-type: decimal">
<li><p>Clean authorships:</p></li>
<li><p>Paste information together</p></li>
<li><p>Remove all <code>NA</code></p></li>
<li><p>We use the <a href="https://www.gbif.org/tools/name-parser">GBIF nameparser</a> to retrieve nomenclatural information for the scientific names in the checklist.</p></li>
<li><p>Show scientific names with nomenclatural issues, i.e. not of <code>type = SCIENTIFIC</code> or that could not be fully parsed (<code>parsed = TRUE</code> and <code>parsedpartially</code> = <code>FALSE</code>). Note: these are not necessarily incorrect:</p></li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["scientificname"],"name":[1],"type":["chr"],"align":["left"]},{"label":["type"],"name":[2],"type":["chr"],"align":["left"]},{"label":["parsed"],"name":[3],"type":["lgl"],"align":["right"]},{"label":["parsedpartially"],"name":[4],"type":["lgl"],"align":["right"]},{"label":["rankmarker"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"Asplenium foreziense Legrand [in Sched.]","2":"SCIENTIFIC","3":"TRUE","4":"TRUE","5":"sp.","_rn_":"1"},{"1":"Nymphaea x marliacea hort.","2":"CULTIVAR","3":"TRUE","4":"FALSE","5":"cv.","_rn_":"2"},{"1":"Lysichiton americanus x camtschatcensis","2":"HYBRID","3":"FALSE","4":"FALSE","5":"NA","_rn_":"3"},{"1":"Picea abies (L.) H.Karst. obovata (Ledeb.) HultÃƒÂ©n","2":"DOUBTFUL","3":"TRUE","4":"TRUE","5":"strain","_rn_":"4"},{"1":"Crocus tommasinianus x vernus","2":"HYBRID","3":"FALSE","4":"FALSE","5":"NA","_rn_":"5"},{"1":"Iris x hollandica hort.","2":"CULTIVAR","3":"TRUE","4":"FALSE","5":"cv.","_rn_":"6"},{"1":"Galanthus elwesii x nivalis","2":"HYBRID","3":"FALSE","4":"FALSE","5":"NA","_rn_":"7"},{"1":"Galanthus elwesii x plicatus","2":"HYBRID","3":"FALSE","4":"FALSE","5":"NA","_rn_":"8"},{"1":"Galanthus nivalis x plicatus","2":"HYBRID","3":"FALSE","4":"FALSE","5":"NA","_rn_":"9"},{"1":"Agrostis gigantea x stolonifera","2":"HYBRID","3":"FALSE","4":"FALSE","5":"NA","_rn_":"10"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ol start="6" style="list-style-type: decimal">
<li>Total amount of scientific names with nomenclatural issues:</li>
</ol>
<pre><code>## [1] 401</code></pre>
<p>Cleaning of taxa with nomenclatural issues is not within the scope of this mapping. However, we can perform some rough cleaning to eliminate the <code>INFORMAL</code> taxa, by removing <code>sp.</code>:</p>
<p>Some other taxa need special inspection, especially the doubtful ones (probably due to UTF-8 issues)</p>
<ol start="7" style="list-style-type: decimal">
<li>All taxa should be unique. We here scan for duplicated taxa:</li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["dwc_scientificName"],"name":[1],"type":["chr"],"align":["left"]},{"label":["idspecies"],"name":[2],"type":["chr"],"align":["left"]},{"label":["ordo"],"name":[3],"type":["chr"],"align":["left"]},{"label":["family"],"name":[4],"type":["chr"],"align":["left"]},{"label":["genus"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"Cavia porcellus (Linnaeus 1758)","2":"52831","3":"Rodentia","4":"Caviidae","5":"Cavia"},{"1":"Cavia porcellus (Linnaeus 1758)","2":"900966","3":"NA","4":"Caviidae","5":"Cavia"},{"1":"Civettictis civetta (Schreber, 1776)","2":"52836","3":"Carnivora","4":"Viverridae","5":"Civettictis"},{"1":"Civettictis civetta (Schreber, 1776)","2":"900968","3":"NA","4":"Viverridae","5":"Civettictis"},{"1":"Cuon alpinus (Pallas, 1811)","2":"52840","3":"Carnivora","4":"Canidae","5":"Cuon"},{"1":"Cuon alpinus (Pallas, 1811)","2":"900971","3":"NA","4":"Canidae","5":"Cuon"},{"1":"Dasypus novemcinctus Linnaeus, 1758","2":"52842","3":"Xenarthra","4":"Dasypodidae","5":"Dasypus"},{"1":"Dasypus novemcinctus Linnaeus, 1758","2":"900973","3":"NA","4":"Dasypodidae","5":"Dasypus"},{"1":"Delphinapterus leucas (Pallas, 1776)","2":"52843","3":"Cetacea","4":"Monodontidae","5":"Delphinapterus"},{"1":"Delphinapterus leucas (Pallas, 1776)","2":"900974","3":"Cetacea","4":"Monodontidae","5":"Delphinapterus"},{"1":"Eliomys quercinus (Linnaeus 1766)","2":"52845","3":"Rodentia","4":"Myoxidae","5":"Eliomys"},{"1":"Eliomys quercinus (Linnaeus 1766)","2":"900975","3":"Rodentia","4":"Gliridae","5":"Eliomys"},{"1":"Erinaceus europaeus Linnaeus 1758","2":"52847","3":"Insectivora","4":"Erinaceidae","5":"Erinaceus"},{"1":"Erinaceus europaeus Linnaeus 1758","2":"900977","3":"Insectivora","4":"Erinaceidae","5":"Erinaceus"},{"1":"Galago senegalensis (Geoffroy, 1796)","2":"52849","3":"Primates","4":"Galagonidae","5":"Galago"},{"1":"Galago senegalensis (Geoffroy, 1796)","2":"900980","3":"NA","4":"Galagonidae","5":"Galago"},{"1":"Hystrix brachyura Linnaeus, 1758","2":"52857","3":"Rodentia","4":"Istricidae","5":"Hystrix"},{"1":"Hystrix brachyura Linnaeus, 1758","2":"900983","3":"Cyperales","4":"Istricidae","5":"Hystrix"},{"1":"Hystrix cristata Linnaeus 1758","2":"52858","3":"Rodentia","4":"Istricidae","5":"Hystrix"},{"1":"Hystrix cristata Linnaeus 1758","2":"900984","3":"Cyperales","4":"Istricidae","5":"Hystrix"},{"1":"Macaca mulatta (Zimmermann, 1780)","2":"52864","3":"Primates","4":"Cercopithecidae","5":"Macaca"},{"1":"Macaca mulatta (Zimmermann, 1780)","2":"900986","3":"Primates","4":"Cercopithecidae","5":"Macaca"},{"1":"Marmota marmota (Linnaeus, 1758)","2":"52868","3":"Rodentia","4":"Sciuridae","5":"Marmota"},{"1":"Marmota marmota (Linnaeus, 1758)","2":"900988","3":"Rodentia","4":"Sciuridae","5":"Marmota"},{"1":"Muntiacus muntjak Zimmermann, 1780","2":"52875","3":"Artiodactyla","4":"Cervidae","5":"Muntiacus"},{"1":"Muntiacus muntjak Zimmermann, 1780","2":"900994","3":"Artiodactyla","4":"Cervidae","5":"Muntiacus"},{"1":"Mus musculus Linnaeus 1758","2":"52877","3":"Rodentia","4":"Muridae","5":"Mus"},{"1":"Mus musculus Linnaeus 1758","2":"900995","3":"Rodentia","4":"Muridae","5":"Mus"},{"1":"Mustela lutreola","2":"52878","3":"Carnivora","4":"Mustelidae","5":"Mustela"},{"1":"Mustela lutreola","2":"900997","3":"Carnivora","4":"Mustelidae","5":"Mustela"},{"1":"Pecari tajacu (Linnaeus 1758)","2":"52889","3":"Artiodactyla","4":"Tayassuidae","5":"Pecari"},{"1":"Pecari tajacu (Linnaeus 1758)","2":"901002","3":"NA","4":"Tayassuidae","5":"Pecari"},{"1":"Potos flavus (Schreber, 1774)","2":"52891","3":"Carnivora","4":"Procyonidae","5":"Potos"},{"1":"Potos flavus (Schreber, 1774)","2":"901005","3":"Carnivora","4":"Procyonidae","5":"Potos"},{"1":"Sylvilagus transitionalis (Bangs, 1895)","2":"52905","3":"Lagomorpha","4":"Leporidae","5":"Sylvilagus"},{"1":"Sylvilagus transitionalis (Bangs, 1895)","2":"901009","3":"NA","4":"Leporidae","5":"Sylvilagus"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ol start="8" style="list-style-type: decimal">
<li><p>Specify the scientificnames and associated values of <code>idspecies</code> to be removed from the taxon core</p></li>
<li><p>Link those with the replacement values for <code>idspecies</code></p></li>
<li><p>Remove duplicated taxa from taxon core:</p></li>
<li><p>Save <code>remove_taxa</code> to scan other extension files for the presence of duplicated taxa</p></li>
</ol>
</div>
<div id="kingdom" class="section level2" number="3.9">
<h2 number="3.9"><span class="header-section-number">3.9</span> kingdom</h2>
<p>No kingdom information is provided. This is not an obligatory field but strongly recommended. It can easily be derived from information in <code>phylum</code>:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["phylum"],"name":[1],"type":["chr"],"align":["left"]},{"label":["records"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Acanthocephala","2":"3"},{"1":"Annelida","2":"132"},{"1":"Anthocerotophyta","2":"1"},{"1":"Arthropoda","2":"2544"},{"1":"Ascomycota","2":"361"},{"1":"Ascomycota","2":"7"},{"1":"Bacteria","2":"12"},{"1":"Bacteroidetes","2":"2"},{"1":"Basidiomycota","2":"312"},{"1":"Basidiomycota","2":"4"},{"1":"Bryophyta","2":"40"},{"1":"Bryozoa","2":"34"},{"1":"Cercozoa","2":"4"},{"1":"Chaetognatha","2":"1"},{"1":"Chlorophyta","2":"32"},{"1":"Choradata","2":"3"},{"1":"Chordata","2":"706"},{"1":"Chytridiomycota","2":"4"},{"1":"Ciliophora","2":"9"},{"1":"Cnidaria","2":"37"},{"1":"Cryptophyta","2":"1"},{"1":"Ctenophora","2":"2"},{"1":"Cyanobacteria","2":"1"},{"1":"Cycadophyta","2":"4"},{"1":"Dinozoa","2":"32"},{"1":"Echinodermata","2":"7"},{"1":"Entoprocta","2":"2"},{"1":"Equisetophyta","2":"4"},{"1":"Firmicutes","2":"1"},{"1":"Foraminifera","2":"1"},{"1":"Fungi","2":"4"},{"1":"Ginkgoophyta","2":"1"},{"1":"Gnetophyta","2":"2"},{"1":"Haptophyta","2":"2"},{"1":"Heterokontophyta","2":"69"},{"1":"Labyrinthista","2":"1"},{"1":"Labyrinthulomycota","2":"1"},{"1":"Lycopodiophyta","2":"3"},{"1":"Magnoliophyta","2":"6439"},{"1":"Marchantiophyta","2":"17"},{"1":"Mollusca","2":"380"},{"1":"Monocotyledonae","2":"1"},{"1":"Myxozoa","2":"1"},{"1":"Nematoda","2":"63"},{"1":"Nemertea","2":"3"},{"1":"Oomycota","2":"106"},{"1":"Oomycota","2":"2"},{"1":"Phoronida","2":"3"},{"1":"Pinophyta","2":"98"},{"1":"Platyhelminthes","2":"63"},{"1":"Polypodiophyta","2":"54"},{"1":"Porifera","2":"7"},{"1":"Proteobacteria","2":"2"},{"1":"Rhodophyta","2":"98"},{"1":"Rotifera","2":"2"},{"1":"Sipunculida","2":"1"},{"1":"NA","2":"389"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>However, for 389 taxa have no phylum, there’s no information available. For these records, we try to derive phylum and kingdom information from <code>class</code>:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["class"],"name":[1],"type":["chr"],"align":["left"]},{"label":["records"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"acari","2":"6"},{"1":"annelida","2":"1"},{"1":"aranea","2":"5"},{"1":"chilopoda","2":"16"},{"1":"crustacea","2":"10"},{"1":"diplopoda","2":"12"},{"1":"insecta","2":"317"},{"1":"mollusca","2":"6"},{"1":"nematoda","2":"4"},{"1":"pauropoda","2":"1"},{"1":"platyhelminthes","2":"8"},{"1":"symphila","2":"3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ol style="list-style-type: decimal">
<li>we complete phylum information</li>
</ol>
<p>Some of these classes are not correct, e.g. <code>Nematoda</code> is a phylum, not a class. Cleaning this information is not within the scope of this mapping.</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["phylum"],"name":[1],"type":["chr"],"align":["left"]},{"label":["phylum_complete"],"name":[2],"type":["chr"],"align":["left"]},{"label":["records"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"Acanthocephala","2":"Acanthocephala","3":"3"},{"1":"Annelida","2":"Annelida","3":"132"},{"1":"Anthocerotophyta","2":"Anthocerotophyta","3":"1"},{"1":"Arthropoda","2":"Arthropoda","3":"2544"},{"1":"Ascomycota","2":"Ascomycota","3":"361"},{"1":"Ascomycota","2":"Ascomycota","3":"7"},{"1":"Bacteria","2":"Bacteria","3":"12"},{"1":"Bacteroidetes","2":"Bacteroidetes","3":"2"},{"1":"Basidiomycota","2":"Basidiomycota","3":"312"},{"1":"Basidiomycota","2":"Basidiomycota","3":"4"},{"1":"Bryophyta","2":"Bryophyta","3":"40"},{"1":"Bryozoa","2":"Bryozoa","3":"34"},{"1":"Cercozoa","2":"Cercozoa","3":"4"},{"1":"Chaetognatha","2":"Chaetognatha","3":"1"},{"1":"Chlorophyta","2":"Chlorophyta","3":"32"},{"1":"Choradata","2":"Choradata","3":"3"},{"1":"Chordata","2":"Chordata","3":"706"},{"1":"Chytridiomycota","2":"Chytridiomycota","3":"4"},{"1":"Ciliophora","2":"Ciliophora","3":"9"},{"1":"Cnidaria","2":"Cnidaria","3":"37"},{"1":"Cryptophyta","2":"Cryptophyta","3":"1"},{"1":"Ctenophora","2":"Ctenophora","3":"2"},{"1":"Cyanobacteria","2":"Cyanobacteria","3":"1"},{"1":"Cycadophyta","2":"Cycadophyta","3":"4"},{"1":"Dinozoa","2":"Dinozoa","3":"32"},{"1":"Echinodermata","2":"Echinodermata","3":"7"},{"1":"Entoprocta","2":"Entoprocta","3":"2"},{"1":"Equisetophyta","2":"Equisetophyta","3":"4"},{"1":"Firmicutes","2":"Firmicutes","3":"1"},{"1":"Foraminifera","2":"Foraminifera","3":"1"},{"1":"Fungi","2":"Fungi","3":"4"},{"1":"Ginkgoophyta","2":"Ginkgoophyta","3":"1"},{"1":"Gnetophyta","2":"Gnetophyta","3":"2"},{"1":"Haptophyta","2":"Haptophyta","3":"2"},{"1":"Heterokontophyta","2":"Heterokontophyta","3":"69"},{"1":"Labyrinthista","2":"Labyrinthista","3":"1"},{"1":"Labyrinthulomycota","2":"Labyrinthulomycota","3":"1"},{"1":"Lycopodiophyta","2":"Lycopodiophyta","3":"3"},{"1":"Magnoliophyta","2":"Magnoliophyta","3":"6439"},{"1":"Marchantiophyta","2":"Marchantiophyta","3":"17"},{"1":"Mollusca","2":"Mollusca","3":"380"},{"1":"Monocotyledonae","2":"Monocotyledonae","3":"1"},{"1":"Myxozoa","2":"Myxozoa","3":"1"},{"1":"Nematoda","2":"Nematoda","3":"63"},{"1":"Nemertea","2":"Nemertea","3":"3"},{"1":"Oomycota","2":"Oomycota","3":"106"},{"1":"Oomycota","2":"Oomycota","3":"2"},{"1":"Phoronida","2":"Phoronida","3":"3"},{"1":"Pinophyta","2":"Pinophyta","3":"98"},{"1":"Platyhelminthes","2":"Platyhelminthes","3":"63"},{"1":"Polypodiophyta","2":"Polypodiophyta","3":"54"},{"1":"Porifera","2":"Porifera","3":"7"},{"1":"Proteobacteria","2":"Proteobacteria","3":"2"},{"1":"Rhodophyta","2":"Rhodophyta","3":"98"},{"1":"Rotifera","2":"Rotifera","3":"2"},{"1":"Sipunculida","2":"Sipunculida","3":"1"},{"1":"NA","2":"Annelida","3":"1"},{"1":"NA","2":"Arthropoda","3":"370"},{"1":"NA","2":"Mollusca","3":"6"},{"1":"NA","2":"Nematoda","3":"4"},{"1":"NA","2":"Platyhelminthes","3":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Not all phylum information is correct, e.g. <code>Bacteria</code> is a kingdom, not a phylum.</p>
<ol start="2" style="list-style-type: decimal">
<li><p>Trim whitespaces in <code>phylum_complete</code></p></li>
<li><p>Phylum <code>Labyrinthista</code> does not exist. This should be phylum <code>Bigyra</code> (for <em>Labyrinthula zosterae</em>)</p></li>
<li><p>Based on this information, map <code>kingdom</code>:</p></li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["dwc_kingdom"],"name":[1],"type":["chr"],"align":["left"]},{"label":["phylum_complete"],"name":[2],"type":["chr"],"align":["left"]},{"label":["records"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"Animalia","2":"Acanthocephala","3":"3"},{"1":"Animalia","2":"Annelida","3":"133"},{"1":"Animalia","2":"Arthropoda","3":"2914"},{"1":"Animalia","2":"Bryozoa","3":"34"},{"1":"Animalia","2":"Chaetognatha","3":"1"},{"1":"Animalia","2":"Choradata","3":"3"},{"1":"Animalia","2":"Chordata","3":"706"},{"1":"Animalia","2":"Cnidaria","3":"37"},{"1":"Animalia","2":"Ctenophora","3":"2"},{"1":"Animalia","2":"Echinodermata","3":"7"},{"1":"Animalia","2":"Entoprocta","3":"2"},{"1":"Animalia","2":"Mollusca","3":"386"},{"1":"Animalia","2":"Myxozoa","3":"1"},{"1":"Animalia","2":"Nematoda","3":"67"},{"1":"Animalia","2":"Nemertea","3":"3"},{"1":"Animalia","2":"Phoronida","3":"3"},{"1":"Animalia","2":"Platyhelminthes","3":"71"},{"1":"Animalia","2":"Porifera","3":"7"},{"1":"Animalia","2":"Rotifera","3":"2"},{"1":"Animalia","2":"Sipunculida","3":"1"},{"1":"Bacteria","2":"Bacteria","3":"12"},{"1":"Bacteria","2":"Bacteroidetes","3":"2"},{"1":"Bacteria","2":"Cyanobacteria","3":"1"},{"1":"Bacteria","2":"Firmicutes","3":"1"},{"1":"Bacteria","2":"Proteobacteria","3":"2"},{"1":"Chromista","2":"Bigyra","3":"1"},{"1":"Chromista","2":"Cercozoa","3":"4"},{"1":"Chromista","2":"Ciliophora","3":"9"},{"1":"Chromista","2":"Cryptophyta","3":"1"},{"1":"Chromista","2":"Dinozoa","3":"32"},{"1":"Chromista","2":"Foraminifera","3":"1"},{"1":"Chromista","2":"Haptophyta","3":"2"},{"1":"Chromista","2":"Heterokontophyta","3":"69"},{"1":"Chromista","2":"Labyrinthulomycota","3":"1"},{"1":"Fungi","2":"Ascomycota","3":"368"},{"1":"Fungi","2":"Basidiomycota","3":"316"},{"1":"Fungi","2":"Chytridiomycota","3":"4"},{"1":"Fungi","2":"Fungi","3":"4"},{"1":"Fungi","2":"Oomycota","3":"108"},{"1":"Plantae","2":"Anthocerotophyta","3":"1"},{"1":"Plantae","2":"Bryophyta","3":"40"},{"1":"Plantae","2":"Chlorophyta","3":"32"},{"1":"Plantae","2":"Cycadophyta","3":"4"},{"1":"Plantae","2":"Equisetophyta","3":"4"},{"1":"Plantae","2":"Ginkgoophyta","3":"1"},{"1":"Plantae","2":"Gnetophyta","3":"2"},{"1":"Plantae","2":"Lycopodiophyta","3":"3"},{"1":"Plantae","2":"Magnoliophyta","3":"6439"},{"1":"Plantae","2":"Marchantiophyta","3":"17"},{"1":"Plantae","2":"Monocotyledonae","3":"1"},{"1":"Plantae","2":"Pinophyta","3":"98"},{"1":"Plantae","2":"Polypodiophyta","3":"54"},{"1":"Plantae","2":"Rhodophyta","3":"98"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="phylum" class="section level2" number="3.10">
<h2 number="3.10"><span class="header-section-number">3.10</span> phylum</h2>
</div>
<div id="class" class="section level2" number="3.11">
<h2 number="3.11"><span class="header-section-number">3.11</span> class</h2>
</div>
<div id="order" class="section level2" number="3.12">
<h2 number="3.12"><span class="header-section-number">3.12</span> order</h2>
</div>
<div id="family" class="section level2" number="3.13">
<h2 number="3.13"><span class="header-section-number">3.13</span> family</h2>
</div>
<div id="genus" class="section level2" number="3.14">
<h2 number="3.14"><span class="header-section-number">3.14</span> genus</h2>
</div>
<div id="specificepithet" class="section level2" number="3.15">
<h2 number="3.15"><span class="header-section-number">3.15</span> specificEpithet</h2>
</div>
<div id="infraspecificepithet" class="section level2" number="3.16">
<h2 number="3.16"><span class="header-section-number">3.16</span> infraspecificEpithet</h2>
</div>
<div id="taxonrank" class="section level2" number="3.17">
<h2 number="3.17"><span class="header-section-number">3.17</span> taxonRank</h2>
<p>Information for <code>taxonRank</code> is provided in the field <code>subtaxon_rank</code>, but is only given for varieties, aggregates, hybrids, subspecies or forms. Taxon rank information can also be retrieved by the GBIF nameparser function. This information was retrieved earlier in this script, in the dataframe <code>parsed_names</code>. We add the information to <code>taxon</code>.</p>
<ol style="list-style-type: decimal">
<li>Inspect <code>rankmarker</code> values generated by the GBIF nameparser and and compare with <code>subtaxon_rank</code> information from the DAISIE checklist:</li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["rankmarker"],"name":[1],"type":["chr"],"align":["left"]},{"label":["subtaxon_rank"],"name":[2],"type":["chr"],"align":["left"]},{"label":["records"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"sp.","2":"NA","3":"10770"},{"1":"infrasp.","2":"subsp.","3":"519"},{"1":"sp.","2":"hyb.","3":"329"},{"1":"infrasp.","2":"var.","3":"142"},{"1":"infrasp.","2":"NA","3":"123"},{"1":"NA","2":"hyb.","3":"54"},{"1":"NA","2":"NA","3":"43"},{"1":"morph","2":"NA","3":"23"},{"1":"sp.","2":"var.","3":"18"},{"1":"NA","2":"agg.","3":"14"},{"1":"morph","2":"subsp.","3":"11"},{"1":"cv.","2":"hyb.","3":"10"},{"1":"sp.","2":"agg.","3":"6"},{"1":"pv.","2":"NA","3":"5"},{"1":"sp.","2":"","3":"5"},{"1":"cv.","2":"NA","3":"4"},{"1":"infrasp.","2":"f. sp.","3":"4"},{"1":"sp.","2":"subsp.","3":"4"},{"1":"var.","2":"var.","3":"4"},{"1":"infrasp.","2":"x","3":"3"},{"1":"strain","2":"subsp.","3":"3"},{"1":"var.","2":"subsp.","3":"3"},{"1":"infrasp.","2":"f.","3":"2"},{"1":"var.","2":"NA","3":"2"},{"1":"NA","2":"subsp.","3":"2"},{"1":"f.","2":"var.","3":"1"},{"1":"infrasp.","2":"agg.","3":"1"},{"1":"infrasp.","2":"Crous","3":"1"},{"1":"infrasp.","2":"subspecies","3":"1"},{"1":"infrasp.","2":"var","3":"1"},{"1":"infrasubsp.","2":"hyb.","3":"1"},{"1":"morph","2":"var.","3":"1"},{"1":"sp.","2":"f. sp.","3":"1"},{"1":"sp.","2":"sp.","3":"1"},{"1":"subf.","2":"var.","3":"1"},{"1":"subvar.","2":"subsp.","3":"1"},{"1":"NA","2":"Cytosporina sp.","3":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We decided to use the information contained in <code>rankmarker</code> because GBIF rankmarker will provide cleaner information than <code>subtaxon_rank</code>, even if there might be some loss of information. However, rankmarker also contains <code>NA</code>. We inspect <code>dwc_scientificName</code> and <code>subtaxon_rank</code> for these values:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["dwc_scientificName"],"name":[1],"type":["chr"],"align":["left"]},{"label":["subtaxon_rank"],"name":[2],"type":["chr"],"align":["left"]},{"label":["records"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"Acmella L.C. Rich. ex Pers.","2":"agg.","3":"1"},{"1":"Aster [N. American ]","2":"agg.","3":"1"},{"1":"Helianthemum","2":"agg.","3":"1"},{"1":"Hosta Tratt.","2":"agg.","3":"1"},{"1":"Ipomoea L.","2":"agg.","3":"1"},{"1":"Mimulus","2":"agg.","3":"1"},{"1":"Oenothera L.","2":"agg.","3":"1"},{"1":"Osteospermum L.","2":"agg.","3":"1"},{"1":"Parthenocissus Planchon","2":"agg.","3":"1"},{"1":"Pelargonium L.","2":"agg.","3":"1"},{"1":"Phyllostachys Sieb. & Zucc.","2":"agg.","3":"1"},{"1":"Plagiobothrys","2":"agg.","3":"1"},{"1":"Ptilotus","2":"agg.","3":"1"},{"1":"Spiraea","2":"agg.","3":"1"},{"1":"Eutypella parasitica R.W. Davidson & R.C. Lorenz (1938) Libertella ,","2":"Cytosporina sp.","3":"1"},{"1":"Agrostis gigantea x stolonifera","2":"hyb.","3":"1"},{"1":"Amaranthus quitensis x tuberculatus","2":"hyb.","3":"1"},{"1":"Artemisia verlotiorum x vulgaris","2":"hyb.","3":"1"},{"1":"Aster dumosus x novi-belgii","2":"hyb.","3":"1"},{"1":"Avena sativa x sterilis","2":"hyb.","3":"1"},{"1":"Brachyglottis x 'Sunshine' hort.","2":"hyb.","3":"1"},{"1":"Bromus inermis x pumpellianus","2":"hyb.","3":"1"},{"1":"Centaurea nigra x phrygia","2":"hyb.","3":"1"},{"1":"Chenopodium album x hircinum","2":"hyb.","3":"1"},{"1":"Chenopodium album x missouriense","2":"hyb.","3":"1"},{"1":"Chenopodium album x probstii","2":"hyb.","3":"1"},{"1":"Corylus avellana x maxima","2":"hyb.","3":"1"},{"1":"Cotoneaster x 'Hybridus pendulus' hort.","2":"hyb.","3":"1"},{"1":"Crataegus heterophylla x monogyna","2":"hyb.","3":"1"},{"1":"Crocus tommasinianus x vernus","2":"hyb.","3":"1"},{"1":"Dianthus caryophyllus x gratianopolitanus","2":"hyb.","3":"1"},{"1":"Dianthus caryophyllus x gratianopolitanus x plumarius","2":"hyb.","3":"1"},{"1":"Dianthus gratianopolitanus x plumarius","2":"hyb.","3":"1"},{"1":"Dipsacus fullonum x sativus","2":"hyb.","3":"1"},{"1":"Epilobium ciliatum x lanceolatum","2":"hyb.","3":"1"},{"1":"Epilobium ciliatum x obscurum","2":"hyb.","3":"1"},{"1":"Festuca arundinacea x Lolium multiflorum","2":"hyb.","3":"1"},{"1":"Festuca rubra x Vulpia myuros","2":"hyb.","3":"1"},{"1":"Fuchsia x 'Corallina'","2":"hyb.","3":"1"},{"1":"Fumaria densiflora x officinalis","2":"hyb.","3":"1"},{"1":"Fumaria officinalis x parviflora","2":"hyb.","3":"1"},{"1":"Galanthus elwesii x nivalis","2":"hyb.","3":"1"},{"1":"Galanthus elwesii x plicatus","2":"hyb.","3":"1"},{"1":"Galanthus nivalis x plicatus","2":"hyb.","3":"1"},{"1":"Helianthus debilis x annuus","2":"hyb.","3":"1"},{"1":"Helianthus pauciflorus x tuberosus","2":"hyb.","3":"1"},{"1":"Heracleum mantegazzianum x sphondylium","2":"hyb.","3":"1"},{"1":"Juncus inflexus x pallidus","2":"hyb.","3":"1"},{"1":"Lupinus arboreus x nootkatensis x polyphyllus","2":"hyb.","3":"1"},{"1":"Lysichiton americanus x camtschatcensis","2":"hyb.","3":"1"},{"1":"Nothofagus nervosa x obliqua","2":"hyb.","3":"1"},{"1":"Oenothera biennis x cambrica","2":"hyb.","3":"1"},{"1":"Oenothera indecora x stricta","2":"hyb.","3":"1"},{"1":"Oreochromis aureus x O. niloticus","2":"hyb.","3":"1"},{"1":"Populus canadensis x jackii","2":"hyb.","3":"1"},{"1":"Populus jackii x nigra","2":"hyb.","3":"1"},{"1":"Quercus cerris x robur","2":"hyb.","3":"1"},{"1":"Rumex conglomeratus x patientia","2":"hyb.","3":"1"},{"1":"Rumex cristatus x palustris","2":"hyb.","3":"1"},{"1":"Rumex cristatus x patientia","2":"hyb.","3":"1"},{"1":"Sorbus aucuparia x intermedia","2":"hyb.","3":"1"},{"1":"Symphytum x 'Hidcote Blue' hort.","2":"hyb.","3":"1"},{"1":"Tragopogon porrifolius x pratensis sub orientalis","2":"hyb.","3":"1"},{"1":"Tripleurospermum inodorum x maritimum","2":"hyb.","3":"1"},{"1":"Vaccinium angustifolium x corymbosum","2":"hyb.","3":"1"},{"1":"Verbascum blattaria x phoeniceum","2":"hyb.","3":"1"},{"1":"Verbascum nigrum x pyramidatum","2":"hyb.","3":"1"},{"1":"Verbascum pyramidatum x thapsus","2":"hyb.","3":"1"},{"1":"Xanthium orientale x strumarium","2":"hyb.","3":"1"},{"1":"Cerastium brachypetalum De ex Pers. tauricum (Spreng.) Murb.","2":"subsp.","3":"1"},{"1":"Oidium Pseudoidium","2":"subsp.","3":"1"},{"1":"Acacia [Australian spp.]","2":"NA","3":"1"},{"1":"Acaena anserinifolia x inermis","2":"NA","3":"1"},{"1":"Aclees","2":"NA","3":"1"},{"1":"Ampullaria","2":"NA","3":"1"},{"1":"Antispila oinophylla van Nieukerken & Wagner,  n.","2":"NA","3":"1"},{"1":"Botrytella","2":"NA","3":"1"},{"1":"Callosciurus","2":"NA","3":"1"},{"1":"Cerastium brachypetalum De ex Pers.","2":"NA","3":"1"},{"1":"Chama","2":"NA","3":"1"},{"1":"Chamaesyce glomerifera Mill","2":"NA","3":"1"},{"1":"Chamaesyce hypericifolia (L.) Mill","2":"NA","3":"1"},{"1":"Chasmanthe bicolor (Ga ex Ten.) N.E. Br.","2":"NA","3":"1"},{"1":"Chrissia","2":"NA","3":"1"},{"1":"Clarias","2":"NA","3":"1"},{"1":"Coptodisca (=Aspidisca)","2":"NA","3":"1"},{"1":"Dahlia coccinea x pinnata","2":"NA","3":"1"},{"1":"Dasysiphonia","2":"NA","3":"1"},{"1":"Didemnum","2":"NA","3":"1"},{"1":"Elachista","2":"NA","3":"1"},{"1":"Elodea callitrichoides (Rich.) Ca","2":"NA","3":"1"},{"1":"Geoplana (=Australoplana) sanguinea","2":"NA","3":"1"},{"1":"Glaucomys  Thomas, 1908","2":"NA","3":"1"},{"1":"Gonipterus new 2 Oberprieler","2":"NA","3":"1"},{"1":"Hyalomma Scupense Delpy, 1946","2":"NA","3":"1"},{"1":"Lycium","2":"NA","3":"1"},{"1":"Lymnaea","2":"NA","3":"1"},{"1":"Maylandia","2":"NA","3":"1"},{"1":"Monacha cf. (Menke, 1828) parumcincta","2":"NA","3":"1"},{"1":"Mycovellosiella concors (Ca) Deighton (1974)","2":"NA","3":"1"},{"1":"Myriactula","2":"NA","3":"1"},{"1":"Physa","2":"NA","3":"1"},{"1":"Porphyrostromium","2":"NA","3":"1"},{"1":"Rhincalanus","2":"NA","3":"1"},{"1":"Rosa Hollandica'","2":"NA","3":"1"},{"1":"Salpingella","2":"NA","3":"1"},{"1":"Scolecetrix","2":"NA","3":"1"},{"1":"Serrasalmus","2":"NA","3":"1"},{"1":"Solanum [unidentified spiny taxon]","2":"NA","3":"1"},{"1":"Spirulina","2":"NA","3":"1"},{"1":"Taeniastrotus","2":"NA","3":"1"},{"1":"Tilapia","2":"NA","3":"1"},{"1":"Trachemys","2":"NA","3":"1"},{"1":"Vitula edmandsii (Packard, 1865) s serratilineella Ragonot, 1887","2":"NA","3":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Concrete actions to undertake: - scientific names without <code>subtaxon_rank</code>: - <code>Acaena anserinifolia x inermis</code>: species - <code>Dahlia coccinea x pinnata</code>: species - <code>Geoplana (=Australoplana) sanguinea</code>: species - <code>Hyalomma Scupense "Delpy, 1946"</code>: species - <code>Rosa Hollandica'</code>: species - Rest: genera - scientific names with <code>subtaxon_rank</code> = <code>agg.</code>: genus - scientific names with <code>subtaxon_rank</code> = <code>hyb</code>: species - scientific name = <code>Oidium Pseudoidium</code>: wrong scientific name, refers to genus <code>Oidium</code> or <code>Pseudoidium</code></p>
<ol start="2" style="list-style-type: decimal">
<li><p>Define taxa without <code>subtaxon_rank</code> which are in fact species</p></li>
<li><p>Map <code>taxonRank</code></p></li>
<li><p>summarize mapping:</p></li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["rankmarker"],"name":[1],"type":["chr"],"align":["left"]},{"label":["subtaxon_rank"],"name":[2],"type":["chr"],"align":["left"]},{"label":["dwc_taxonRank"],"name":[3],"type":["chr"],"align":["left"]},{"label":["records"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"sp.","2":"NA","3":"species","4":"10770"},{"1":"infrasp.","2":"subsp.","3":"infraspecificname","4":"519"},{"1":"sp.","2":"hyb.","3":"species","4":"329"},{"1":"infrasp.","2":"var.","3":"infraspecificname","4":"142"},{"1":"infrasp.","2":"NA","3":"infraspecificname","4":"123"},{"1":"NA","2":"hyb.","3":"species","4":"54"},{"1":"NA","2":"NA","3":"genus","4":"39"},{"1":"morph","2":"NA","3":"morphovar","4":"23"},{"1":"sp.","2":"var.","3":"species","4":"18"},{"1":"NA","2":"agg.","3":"genus","4":"14"},{"1":"morph","2":"subsp.","3":"morphovar","4":"11"},{"1":"cv.","2":"hyb.","3":"cultivar","4":"10"},{"1":"sp.","2":"agg.","3":"species","4":"6"},{"1":"pv.","2":"NA","3":"pathovar","4":"5"},{"1":"sp.","2":"","3":"species","4":"5"},{"1":"cv.","2":"NA","3":"cultivar","4":"4"},{"1":"infrasp.","2":"f. sp.","3":"infraspecificname","4":"4"},{"1":"sp.","2":"subsp.","3":"species","4":"4"},{"1":"var.","2":"var.","3":"variety","4":"4"},{"1":"NA","2":"NA","3":"species","4":"4"},{"1":"infrasp.","2":"x","3":"infraspecificname","4":"3"},{"1":"strain","2":"subsp.","3":"strain","4":"3"},{"1":"var.","2":"subsp.","3":"variety","4":"3"},{"1":"infrasp.","2":"f.","3":"infraspecificname","4":"2"},{"1":"var.","2":"NA","3":"variety","4":"2"},{"1":"NA","2":"subsp.","3":"subspecies","4":"2"},{"1":"f.","2":"var.","3":"form","4":"1"},{"1":"infrasp.","2":"agg.","3":"infraspecificname","4":"1"},{"1":"infrasp.","2":"Crous","3":"infraspecificname","4":"1"},{"1":"infrasp.","2":"subspecies","3":"infraspecificname","4":"1"},{"1":"infrasp.","2":"var","3":"infraspecificname","4":"1"},{"1":"infrasubsp.","2":"hyb.","3":"infrasubspecificname","4":"1"},{"1":"morph","2":"var.","3":"morphovar","4":"1"},{"1":"sp.","2":"f. sp.","3":"species","4":"1"},{"1":"sp.","2":"sp.","3":"species","4":"1"},{"1":"subf.","2":"var.","3":"subform","4":"1"},{"1":"subvar.","2":"subsp.","3":"subvariety","4":"1"},{"1":"NA","2":"Cytosporina sp.","3":"species","4":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="taxonremarks" class="section level2" number="3.18">
<h2 number="3.18"><span class="header-section-number">3.18</span> taxonRemarks</h2>
<p><code>taxon</code> includes a reference to the consulted source via <code>sourceid</code>. We map the sources under <code>taxonRemarks</code>.</p>
<p>Rename <code>source</code> to <code>taxonRemarks</code>:</p>
</div>
</div>
<div id="post-processing" class="section level1" number="4">
<h1 number="4"><span class="header-section-number">4</span> Post-processing</h1>
<ol style="list-style-type: decimal">
<li><p>Only keep the Darwin Core columns</p></li>
<li><p>Drop the <code>dwc_</code> prefix</p></li>
<li><p>Sort on taxonID</p></li>
<li><p>Export all taxonID’s (required for filtering the records in the extensions):</p></li>
<li><p>Export <code>core_taxa</code>:</p></li>
<li><p>Preview data</p></li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["language"],"name":[1],"type":["chr"],"align":["left"]},{"label":["license"],"name":[2],"type":["chr"],"align":["left"]},{"label":["rightsHolder"],"name":[3],"type":["chr"],"align":["left"]},{"label":["datasetID"],"name":[4],"type":["chr"],"align":["left"]},{"label":["institutionCode"],"name":[5],"type":["chr"],"align":["left"]},{"label":["datasetName"],"name":[6],"type":["chr"],"align":["left"]},{"label":["taxonID"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["scientificName"],"name":[8],"type":["chr"],"align":["left"]},{"label":["kingdom"],"name":[9],"type":["chr"],"align":["left"]},{"label":["phylum"],"name":[10],"type":["chr"],"align":["left"]},{"label":["class"],"name":[11],"type":["chr"],"align":["left"]},{"label":["order"],"name":[12],"type":["chr"],"align":["left"]},{"label":["family"],"name":[13],"type":["chr"],"align":["left"]},{"label":["genus"],"name":[14],"type":["chr"],"align":["left"]},{"label":["specificEpithet"],"name":[15],"type":["chr"],"align":["left"]},{"label":["infraspecificEpithet"],"name":[16],"type":["chr"],"align":["left"]},{"label":["taxonRank"],"name":[17],"type":["chr"],"align":["left"]},{"label":["taxonRemarks"],"name":[18],"type":["chr"],"align":["left"]}],"data":[{"1":"en","2":"http://creativecommons.org/licenses/by/4.0/","3":"CEH","4":"https://doi.org/10.15468/ybwd3x","5":"CEH","6":"DAISIE - Inventory of alien invasive species in Europe","7":"5","8":"Telaranea murphyae Paton","9":"Plantae","10":"Marchantiophyta","11":"Jungermanniopsida","12":"Jungermanniales","13":"Lepidoziaceae","14":"Telaranea","15":"murphyae","16":"NA","17":"species","18":"Davis PH et al (eds) (1967) Flora of Turkey and the East Aegean Islands, vol 2. University Press, Edinburgh"},{"1":"en","2":"http://creativecommons.org/licenses/by/4.0/","3":"CEH","4":"https://doi.org/10.15468/ybwd3x","5":"CEH","6":"DAISIE - Inventory of alien invasive species in Europe","7":"6","8":"Telaranea tetradactyla","9":"Plantae","10":"Marchantiophyta","11":"Jungermanniopsida","12":"Jungermanniales","13":"Lepidoziaceae","14":"Telaranea","15":"tetradactyla","16":"NA","17":"species","18":"Navajas M et al. (2010) Mites and ticks (Acari). Chapter 7.4. In: Roques A et al. (Eds) Arthropod invasions in Europe. BioRisk 4(1): 149–192."},{"1":"en","2":"http://creativecommons.org/licenses/by/4.0/","3":"CEH","4":"https://doi.org/10.15468/ybwd3x","5":"CEH","6":"DAISIE - Inventory of alien invasive species in Europe","7":"7","8":"Lophocolea bispinosa (Hook. f. & Taylor) Gottsche et al.","9":"Plantae","10":"Marchantiophyta","11":"Jungermanniopsida","12":"Jungermanniales","13":"Geocalycaceae","14":"Lophocolea","15":"bispinosa","16":"NA","17":"species","18":"Navajas M et al. (2010) Mites and ticks (Acari). Chapter 7.4. In: Roques A et al. (Eds) Arthropod invasions in Europe. BioRisk 4(1): 149–192."},{"1":"en","2":"http://creativecommons.org/licenses/by/4.0/","3":"CEH","4":"https://doi.org/10.15468/ybwd3x","5":"CEH","6":"DAISIE - Inventory of alien invasive species in Europe","7":"8","8":"Lophocolea semiteres (Lehm.) Mitt.","9":"Plantae","10":"Marchantiophyta","11":"Jungermanniopsida","12":"Jungermanniales","13":"Geocalycaceae","14":"Lophocolea","15":"semiteres","16":"NA","17":"species","18":"Αραμπατζής Θ. (ed) (2001) Θάμνοι και δέντρα στην Ελλάδα, τόμος ΙΙ. Οικολογική Κίνηση Δράμας - Τεχνολογικό Εκπαιδευτικό Ίδρυμα Καβάλας, Δράμα"},{"1":"en","2":"http://creativecommons.org/licenses/by/4.0/","3":"CEH","4":"https://doi.org/10.15468/ybwd3x","5":"CEH","6":"DAISIE - Inventory of alien invasive species in Europe","7":"9","8":"Sphaerocarpos michelii Bellardi","9":"Plantae","10":"Marchantiophyta","11":"Marchantiopsida","12":"Sphaerocarpales","13":"Sphaerocarpaceae","14":"Sphaerocarpos","15":"michelii","16":"NA","17":"species","18":"Greuter W, Burdet HM, Long G (eds) (1984) Med - Checklist, vol 1. Conservatoire et Jardin botaniques de la Ville de Genève, Genève"},{"1":"en","2":"http://creativecommons.org/licenses/by/4.0/","3":"CEH","4":"https://doi.org/10.15468/ybwd3x","5":"CEH","6":"DAISIE - Inventory of alien invasive species in Europe","7":"10","8":"Sphaerocarpos texanus Austin","9":"Plantae","10":"Marchantiophyta","11":"Marchantiopsida","12":"Sphaerocarpales","13":"Sphaerocarpaceae","14":"Sphaerocarpos","15":"texanus","16":"NA","17":"species","18":"Greuter W, Burdet HM, Long G (eds) (1984) Med - Checklist, vol 1. Conservatoire et Jardin botaniques de la Ville de Genève, Genève"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>7.Save to CSV:</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
